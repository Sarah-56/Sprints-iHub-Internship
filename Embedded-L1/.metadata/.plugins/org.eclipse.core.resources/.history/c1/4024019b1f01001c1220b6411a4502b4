/*
 ============================================================================
 Name        : XOGame.c
 Author      : Sarah Mohamed
 Description : XO Game in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include "xo.h"

char board[3][3] = {{'0', '1', '2'}, {'3', '4', '5'}, {'6', '7', '8'}};
int player = 1, choice;
char state = 'Y';

int main(void) {
	setvbuf(stdout, NULL, _IONBF, 0);
	setvbuf(stderr, NULL, _IONBF, 0);

	char result = ' ';
	char xoro;

	printf("X O GAME\n");
	printf("Player 1 (X) - Player 2 (O)\n");
	do{
		displayBoard();

		player = (player % 2) ? 1 : 2;
		printf("Player %d, enter a number: ", player);
		scanf("%d", &choice);

		xoro = (player == 1) ? 'X' : 'O';

		saveChoice(choice, xoro);

		//check winner
		result = checkWin();

		//switch player
		if(player == 1){
			player++;
		}
		else{
			player--;
		}
	}while(result != ' ');
	printf("%c", result);
	if(result == 'X'){
		printf("Player 1 won!\n");
	}
	else{
		printf("Player 2 won!\n");
	}

	printf("Do you want to play again? Y/N ");
	scanf("%c", &state);

	switch(state){
	case 'N':
		system("pause");
		return 0;
	case 'Y':
		system("CLS");
		int k = 0;
		for(int i = 0; i < 3; i++){
			for(int j = 0; j < 3; j++){
				board[i][j] = k;
				k++;
			}
		}
		player = 1;
		break;

	}








	return 0;
}
